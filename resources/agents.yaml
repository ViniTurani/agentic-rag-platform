model_defaults:
  provider: openai
  model: gpt-4o-mini
  temperature: 0.2
  max_turns: 8

entry_agent: router

tools:
  - name: web_search
    kind: hosted
    type: WebSearchTool
    config: { search_context_size: "high" }

  - name: kb_retrieve
    kind: python_function
    dotted_path: app.core.agents.tools.kb:kb_retrieve

  - name: get_support_overview
    kind: python_function
    dotted_path: app.core.agents.tools.customer_overview:get_support_overview

  - name: create_ticket
    kind: python_function
    dotted_path: app.core.agents.tools.create_ticket:create_ticket
 

agents:
  - name: router
    prompt_file: resources/prompts/router_agent.md
    tool_refs: []
    handoffs: [knowledge,customer_support_agent]
    handoff_description: "Routes queries to the appropriate agent based on the user's needs."

  - name: knowledge
    prompt_file: resources/prompts/knowledge_agent.md
    tool_refs: [web_search, kb_retrieve]
    handoffs: []
    handoff_description: "Handles knowledge-based queries using internal documentation with knowledge base retrieval and web search."

  - name: customer_support_agent
    prompt_file: resources/prompts/customer_support_agent.md
    tool_refs:
      - get_support_overview
      - create_ticket
    handoffs: []
    handoff_description: "Manages customer support-related queries, providing overviews and creating support tickets."